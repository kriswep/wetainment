{"componentChunkName":"component---src-templates-blog-post-js","path":"/articles/create-react-app-template/","result":{"data":{"markdownRemark":{"html":"<h3>Detailed Guide to creating your own Create React App template</h3>\n<p><strong>Tl,dr: Since December ‘19 <a href=\"https://github.com/facebook/create-react-app\">Create React App</a> (also known as CRA) allows you to write custom templates. That can help you to quickly create projects with your preferred stack. Templates can be published as npm modules and are used to create a new React project.</strong></p>\n<h4>Motivation</h4>\n<p>CRA (Create React App) is a tool from Facebook helping you building modern React applications, without having to worry about configuring the dev environment. Up until recently, they created a small ‘Hello World’ like application to help getting you started. You then had to install and integrate most of the libraries you wanted to use. Think of adding a CSS-in-JS styling library, your State Management solution and the like.</p>\n<p>Nowadays they added the possibility to write and use your own custom template. This allows you, to bootstrap your CRA project with exactly the stack you prefer and go from there. CRA templates can be used with <code class=\"language-text\">npx create-react-app your-app --template your-published-template</code>.</p>\n<p>How can we write our own template? Take a look at the two official templates in their repo for inspiration: <a href=\"https://github.com/facebook/create-react-app/tree/master/packages/cra-template\">CRA template</a> and <a href=\"https://github.com/facebook/create-react-app/tree/master/packages/cra-template-typescript\">CRA template typescript</a>.</p>\n<p>The official <a href=\"https://create-react-app.dev/docs/custom-templates\">documentation</a> is still kind of barebones, but will give you a good overview.</p>\n<p>Keep reading, if you want a more detailed writeup, of how to create your custom Create React App template.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 66.89189189189189%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAUE/8QAFgEBAQEAAAAAAAAAAAAAAAAAAgAB/9oADAMBAAIQAxAAAAGuk5rLLCZ//8QAGhABAQADAQEAAAAAAAAAAAAAAQIAAxEEEv/aAAgBAQABBQI4T9zlB307aMWpNFrr/8QAFREBAQAAAAAAAAAAAAAAAAAAARD/2gAIAQMBAT8BJ//EABURAQEAAAAAAAAAAAAAAAAAAAEQ/9oACAECAQE/AWf/xAAaEAACAgMAAAAAAAAAAAAAAAACEAARARIx/9oACAEBAAY/AmI45UvZf//EABkQAAMBAQEAAAAAAAAAAAAAAAABESFxUf/aAAgBAQABPyFKniKZZ0apDZjVG1X03HrP/9oADAMBAAIAAwAAABCL3//EABYRAQEBAAAAAAAAAAAAAAAAAAEAIf/aAAgBAwEBPxAZJf/EABcRAQEBAQAAAAAAAAAAAAAAAAEAETH/2gAIAQIBAT8QTscv/8QAGhABAAMBAQEAAAAAAAAAAAAAAQARITFhgf/aAAgBAQABPxC8pR2DX6BUf0InSEsLU9vs2N0ZxALtC1n/2Q=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Cranes on top of big building under construction.\"\n        title=\"Cranes on top of big building under construction.\"\n        src=\"/static/c8a1505e27132918b9cd26928805e3c7/1c72d/cra-template.jpg\"\n        srcset=\"/static/c8a1505e27132918b9cd26928805e3c7/a80bd/cra-template.jpg 148w,\n/static/c8a1505e27132918b9cd26928805e3c7/1c91a/cra-template.jpg 295w,\n/static/c8a1505e27132918b9cd26928805e3c7/1c72d/cra-template.jpg 590w,\n/static/c8a1505e27132918b9cd26928805e3c7/a8a14/cra-template.jpg 885w,\n/static/c8a1505e27132918b9cd26928805e3c7/fbd2c/cra-template.jpg 1180w,\n/static/c8a1505e27132918b9cd26928805e3c7/4abeb/cra-template.jpg 4808w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<p><sub><sup>Start building your next React project. Photo by <a href=\"https://unsplash.com/@danist07\">贝莉儿 DANIST</a> on <a href=\"https://unsplash.com/photos/8Gg2Ne_uTcM\">Unsplash</a>.</sup></sub></p>\n<h4>What’s needed</h4>\n<p>A custom Create React App template is a module on npm which has to use a certain folder structure:</p>\n<div class=\"gatsby-highlight\" data-language=\"plain\"><pre class=\"language-plain\"><code class=\"language-plain\">your-app/\n  README.md\n  template.json\n  package.json\n  template/\n    README.md\n    gitignore\n    public/\n      index.html\n    src/\n      index.js</code></pre></div>\n<p>The <code class=\"language-text\">template.json</code> file contains the dependencies as well as potential new scripts for the created projects. The <code class=\"language-text\">/template</code> folder basically becomes the created application, it will be copied during the initialisation phase of Create React App.</p>\n<p>Custom templates also have to follow a certain naming convention, they have to use the format <code class=\"language-text\">cra-template-[your-custom-template]</code>. This comes in the <code class=\"language-text\">package.json</code>. Quite long? Luckily, we can omit the <code class=\"language-text\">cra-template</code> prefix and just use the <code class=\"language-text\">your-custom-template</code> name in the CRA command, like in <code class=\"language-text\">npx create-react-app your-app --template your-custom-template</code>.</p>\n<p>Did you note the missing dot before the <code class=\"language-text\">template/gitignore</code> file? This is on purpose, the dot will be added by CRA. They also switch all occurrences of <code class=\"language-text\">npm run</code> with <code class=\"language-text\">yarn</code> in your scripts and Readme, if you are using yarn. Good to know, right?</p>\n<p>Also note that you can add more files and dependencies to your template project as you wish. Keep in mind, that everything in <code class=\"language-text\">/template</code> will be part of the created project, everything else not.</p>\n<h4>Create your new template</h4>\n<p>Alright, time to see how to write our own template.</p>\n<p>To start writing a custom Create React App template I find it easiest to bootstrap it with CRA itself. So let’s <code class=\"language-text\">npx create-react-app cra-template-your-custom-template</code> and CRA will do its’ thing (substitute your-custom-template with however you want to name your project). The default template will be used.</p>\n<p>Now the fun part begins. You can remove stuff you never use (like the rotating logo) and add all your preferred libs, as you would in a plain React app. Want a router? A CSS-in-JS lib? A state management tool? Animation? Something? Let’s install whatever you want and import it in your application. My recommendation is to do that in the <code class=\"language-text\">src</code> folder. Doing that, you can test and run your app normally with <code class=\"language-text\">npm run test</code> and <code class=\"language-text\">npm run start</code>. The goal is to get your project to the point you would love to start your future React projects at.</p>\n<p>As soon as you consider your project to be at a nice ‘starting point’, you have to make it a template. For that create the <code class=\"language-text\">template.json</code> file at your project root:</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"dependencies\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"styled-components\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"^4.4.1\"</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"scripts\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"custom-start\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"npm run start\"</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Copy all dependencies you need from your <code class=\"language-text\">package.json</code> into the dependencies field, and all custom scripts into the scripts field. All the dependencies here will be installed on the bootstrapped projects. <code class=\"language-text\">react</code>, <code class=\"language-text\">react-dom</code> and <code class=\"language-text\">react-scripts</code> are CRAs’ default dependencies, you don’t have to include them. Right now, devDependencies are not supported. If you don’t have any new dependencies or scripts you can omit the corresponding block. BMake sure you add at least an empty <code class=\"language-text\">template.json</code> file (with content <code class=\"language-text\">{}</code>).</p>\n<p>Then, create the <code class=\"language-text\">/template</code> folder and copy your <code class=\"language-text\">/src</code> and <code class=\"language-text\">/public</code> folder into it, as well as the <code class=\"language-text\">.gitignore</code> (and remove the dot from <code class=\"language-text\">gitignore</code> in the template folder). You should also consider adding a <code class=\"language-text\">/template/README.md</code>, this will become the initial README of the created projects.</p>\n<p>Lastly, we have to make some changes to our <code class=\"language-text\">package.json</code> file. At the very least, make sure that <code class=\"language-text\">name</code> starts with <code class=\"language-text\">cra-template-</code>, remove the <code class=\"language-text\">private</code> field and add <code class=\"language-text\">&quot;main&quot;: &quot;template.json&quot;,</code>. Without these, Create React Apps’ template creation will fail. You may also consider adding more fields for a nice npm package, like <code class=\"language-text\">author</code>, <code class=\"language-text\">repository</code>, <code class=\"language-text\">description</code> etc.</p>\n<p>Publishing to npm is a topic of its own. To keep the scope small: After registering at npm and authorising on the CLI, you could publish the project with <code class=\"language-text\">npm publish --access public</code>.</p>\n<p>Wow, congratulations, you should now have created and published a Create React App custom template. Bootstrap a new React application with <code class=\"language-text\">npx create-react-app your-app --template your-custom-template</code>.</p>\n<p>Enjoy.</p>\n<h4>Tips</h4>\n<p>Create React App can use a local template (on your filesystem). This is useful for development, or if you don’t want to publish. Use <code class=\"language-text\">npx create-react-app your-app --template file:.</code> in your template root folder.</p>\n<p>You can also use <a href=\"https://docs.npmjs.com/about-scopes\">npm scopes</a> to namespace your template. Then you have to prepend your package name with your scope <code class=\"language-text\">@your-scope/cra-template-your-custom-template</code>. You can still omit <code class=\"language-text\">cra-template</code> from the Create React App command like in <code class=\"language-text\">npx create-react-app your-app --template @your-scope/your-custom-template</code>.</p>\n<p>Hope this helps you to create your own CRA template. Feel free to let me know about your templates or if you get stuck along the way. <a href=\"https://twitter.com/kriswep\">Tweet at me</a> or leave a comment.</p>","fields":{"slug":"/articles/2020-01-CRA-Template/"},"frontmatter":{"date":"January 12, 2020","path":"/articles/create-react-app-template/","title":"Write your own Create React App template","description":"Create React App can bootstrap your React applications. Nowadays, you can even use a template to quickly start your projects with your preferred stack. Learn how to write and publish your own template.","author":"@kriswep","layout":"post","readNext":"/articles/2020-03-Build-An-App-01/","issueNumber":25}},"readNext":{"frontmatter":{"date":"April 03, 2020","path":"/articles/build-an-app-01/","title":"Let's build an app","description":"Bored at home? Join me learning how to build a small, but complete app in 2020. We'll use React Native to build a cross platform and fully native app."}},"site":{"siteMetadata":{"title":"wetainment","siteUrl":"https://wetainment.com"}}},"pageContext":{"slug":"/articles/2020-01-CRA-Template/","readNext":"/articles/2020-03-Build-An-App-01/"}},"staticQueryHashes":[]}